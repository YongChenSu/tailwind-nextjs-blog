---
title: Github Action cron
date: '2025-06-01'
tags: ['Github Action']  
draft: false
summary: 'Github Action cron'
authors: ['YongChen']
---

# æ’ç¨‹èªæ³•
```yaml
schedule:
    - cron: '00 18 * * *'
```

00 18 * * *
æ ¼å¼ç‚ºï¼šåˆ† æ™‚ æ—¥ æœˆ æ˜ŸæœŸ

æ™‚é–“æ ¼å¼æ˜¯ UTC æ™‚å€ï¼Œæ‰€ä»¥æ›ç®—æˆå°åŒ—æ™‚å€çš„è©±ï¼Œ`00 18 * * *` æ˜¯æ¯å¤© 02:00

```yaml
# .github/workflows/main.yml
name: CI / E2E Test

on:
  # 1. æ¯æ¬¡ push åˆ° main æˆ–æŒ‡å®šåŠŸèƒ½åˆ†æ”¯æ™‚è§¸ç™¼
  push:
    branches:
      - main
      - feat/regularly-run-e2e

  # 2. æ‰‹å‹•å¯ä»¥åœ¨ GitHub ç¶²é ä¸ŠæŒ‰æŒ‰éˆ•è§¸ç™¼
  workflow_dispatch:

  # 3. å®šæ™‚æ’ç¨‹ï¼ˆUTC æ™‚å€ï¼‰ï¼Œä»¥ä¸‹ç¯„ä¾‹æ˜¯æ¯å¤© 02:00 (Taiwan Time) åŸ·è¡Œä¸€æ¬¡
  schedule:
    - cron: '00 18 * * *'

jobs:
  e2e-tests:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      # è‹¥æœ‰å®‰è£ Node.js éœ€æ±‚ï¼Œå°±å…ˆæŠŠ Node ç’°å¢ƒæº–å‚™å¥½
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 20

      - name: Install dependencies
        run: yarn install

      # è‹¥è¦è·‘ E2E æ¸¬è©¦ï¼Œä»¥ä¸‹ç¤ºç¯„ç”¨ yarn script
      - name: Run E2E Tests
        run: yarn run test:e2e
```


### puppeteer æ¸¬è©¦æ¡ˆä¾‹
```javascript
// simple-test.js
const puppeteer = require('puppeteer');
const assert = require('assert');

(async () => {
  const browser = await puppeteer.launch({
    headless: true,
    args: [
      '--no-sandbox',
      '--disable-setuid-sandbox',
      '--disable-dev-shm-usage'
    ]
  });
  const page = await browser.newPage();

  // 2. å°å‘åˆ°ç›®æ¨™ç¶²é 
  await page.goto('https://example.com');

  // 3. å–å¾—é é¢æ¨™é¡Œ
  const title = await page.title();
  console.log('é é¢æ¨™é¡Œ:', title);

  // 4. é©—è­‰æ¨™é¡Œæ˜¯å¦ç‚º "Example Domain"
  assert.strictEqual(title, 'Example Domain', 'é é¢æ¨™é¡Œä¸ç¬¦åˆé æœŸï¼');

  console.log('ğŸ‘ æ¨™é¡Œé©—è­‰é€šéï¼');

  await browser.close();
})();
```

### Github Action Run æ¸¬è©¦æˆåŠŸ
![Github Action Run](/static/images/2025-06-01-1.png)

